{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a3216e5b029d2bc1abfa","webpack:///external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"_\",\"root\":\"_\"}","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./src/models/PointModel.ts","webpack:///./src/models/BaseModel.ts","webpack:///./src/models/NodeModel.ts","webpack:///./src/BaseEntity.ts","webpack:///./src/models/LinkModel.ts","webpack:///./src/AbstractFactory.ts","webpack:///./src/models/PortModel.ts","webpack:///./src/Toolkit.ts","webpack:///./src/models/DiagramModel.ts","webpack:///./src/main.ts","webpack:///./src/defaults/DefaultLinkWidget.tsx","webpack:///./src/defaults/DefaultNodeModel.ts","webpack:///./src/defaults/DefaultNodeWidget.tsx","webpack:///./src/defaults/DefaultPortLabelWidget.tsx","webpack:///./src/widgets/PortWidget.tsx","webpack:///./src/defaults/DefaultPortModel.ts","webpack:///./src/CanvasActions.ts","webpack:///./src/widgets/LinkLayerWidget.tsx","webpack:///./src/widgets/LinkWidget.tsx","webpack:///./src/widgets/NodeLayerWidget.tsx","webpack:///./src/widgets/NodeWidget.tsx","webpack:///./src/defaults/DefaultLinkFactory.ts","webpack:///./node_modules/closest/index.js","webpack:///./node_modules/matches-selector/index.js","webpack:///./src/defaults/DefaultNodeFactory.ts","webpack:///./src/DiagramEngine.ts","webpack:///./src/defaults/DefaultPortFactory.tsx","webpack:///./src/widgets/DiagramWidget.tsx","webpack:///./node_modules/process/browser.js"],"names":[],"mappings":"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C,QAAQ,CAAC;wBACb,MAAM,EAAE,IAAI,+BAAe,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,aAAa,CAAC;qBACxE,CAAC,CAAC;gBACJ,CAAC,GACA,CACF;YACD,oBAAC,iCAAe,IAAC,aAAa,EAAE,aAAa,GAAI;YAChD,IAAI,CAAC,KAAK,CAAC,MAAM,YAAY,+BAAe,IAAI,IAAI,CAAC,gBAAgB,EAAE,CACnE,CACN,CAAC;IACH,CAAC;IAlca,0BAAY,GAAiB;QAC1C,aAAa,EAAE,IAAI;QACnB,eAAe,EAAE,IAAI;QACrB,sBAAsB,EAAE,IAAI;QAC5B,eAAe,EAAE,IAAI;QACrB,WAAW,EAAE,KAAK;QAClB,sBAAsB,EAAE,QAAQ;QAChC,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;KACnB,CAAC;IA2bH,oBAAC;CAAA,CApckC,KAAK,CAAC,SAAS,GAocjD;AApcY,sCAAa;;;;;;;;AC/C1B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"storm-react-diagrams\"] = factory(require(\"lodash\"), require(\"react\"));\n\telse\n\t\troot[\"storm-react-diagrams\"] = factory(root[\"_\"], root[\"React\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a3216e5b029d2bc1abfa","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"_\",\"root\":\"_\"}\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 1\n// module chunks = 0","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { LinkModel } from \"./LinkModel\";\nimport * as _ from \"lodash\";\n\nexport class PointModel extends BaseModel<BaseModelListener> {\n\tx: number;\n\ty: number;\n\tlink: LinkModel;\n\n\tconstructor(link: LinkModel, points: { x: number; y: number }) {\n\t\tsuper();\n\t\tthis.x = points.x;\n\t\tthis.y = points.y;\n\t\tthis.link = link;\n\t}\n\n\tgetSelectedEntities() {\n\t\tif (super.isSelected() && !this.isConnectedToPort()) {\n\t\t\treturn [this];\n\t\t}\n\t\treturn [];\n\t}\n\n\tisConnectedToPort(): boolean {\n\t\treturn this.link.getPortForPoint(this) !== null;\n\t}\n\n\tdeSerialize(ob) {\n\t\tsuper.deSerialize(ob);\n\t\tthis.x = ob.x;\n\t\tthis.y = ob.y;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tx: this.x,\n\t\t\ty: this.y\n\t\t});\n\t}\n\n\tremove() {\n\t\t//clear references\n\t\tif (this.link) {\n\t\t\tthis.link.removePoint(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\tupdateLocation(points: { x: number; y: number }) {\n\t\tthis.x = points.x;\n\t\tthis.y = points.y;\n\t}\n\n\tgetX(): number {\n\t\treturn this.x;\n\t}\n\n\tgetY(): number {\n\t\treturn this.y;\n\t}\n\n\tgetLink(): LinkModel {\n\t\treturn this.link;\n\t}\n\n\tisLocked() {\n\t\treturn super.isLocked() || this.getLink().isLocked();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/PointModel.ts","import { BaseEntity, BaseListener } from \"../BaseEntity\";\nimport * as _ from \"lodash\";\nimport { BaseEvent } from \"../BaseEntity\";\n\nexport interface BaseModelListener extends BaseListener {\n\tselectionChanged?(event: BaseEvent<BaseModel> & { isSelected: boolean }): void;\n\n\tentityRemoved?(event: BaseEvent<BaseModel>): void;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class BaseModel<T extends BaseModelListener = BaseModelListener> extends BaseEntity<BaseModelListener> {\n\ttype: string;\n\tselected: boolean;\n\n\tconstructor(type?: string, id?: string) {\n\t\tsuper(id);\n\t\tthis.type = type;\n\t\tthis.selected = false;\n\t}\n\n\tpublic getSelectedEntities(): BaseModel<T>[] {\n\t\tif (this.isSelected()) {\n\t\t\treturn [this];\n\t\t}\n\t\treturn [];\n\t}\n\n\tpublic deSerialize(ob) {\n\t\tsuper.deSerialize(ob);\n\t\tthis.type = ob.type;\n\t\tthis.selected = ob.selected;\n\t}\n\n\tpublic serialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\ttype: this.type,\n\t\t\tselected: this.selected\n\t\t});\n\t}\n\n\tpublic getType(): string {\n\t\treturn this.type;\n\t}\n\n\tpublic getID(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic isSelected(): boolean {\n\t\treturn this.selected;\n\t}\n\n\tpublic setSelected(selected: boolean = true) {\n\t\tthis.selected = selected;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.selectionChanged) {\n\t\t\t\tlistener.selectionChanged({ ...event, isSelected: selected });\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic remove() {\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.entityRemoved) {\n\t\t\t\tlistener.entityRemoved(event);\n\t\t\t}\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/BaseModel.ts","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { PortModel } from \"./PortModel\";\nimport * as _ from \"lodash\";\n\nexport class NodeModel extends BaseModel<BaseModelListener> {\n\tx: number;\n\ty: number;\n\textras: any;\n\tports: { [s: string]: PortModel };\n\n\tconstructor(nodeType: string = \"default\", id?: string) {\n\t\tsuper(nodeType, id);\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.extras = {};\n\t\tthis.ports = {};\n\t}\n\n\tsetPosition(x, y) {\n\t\t//store position\n\t\tlet oldX = this.x;\n\t\tlet oldY = this.y;\n\t\tfor (let port in this.ports) {\n\t\t\t_.forEach(this.ports[port].getLinks(), link => {\n\t\t\t\tlet point = link.getPointForPort(this.ports[port]);\n\t\t\t\tpoint.x = point.x + x - oldX;\n\t\t\t\tpoint.y = point.y + y - oldY;\n\t\t\t});\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tgetSelectedEntities() {\n\t\tlet entities = super.getSelectedEntities();\n\n\t\t// add the points of each link that are selected here\n\t\tif (this.isSelected()) {\n\t\t\tfor (let portName in this.ports) {\n\t\t\t\tentities = entities.concat(\n\t\t\t\t\t_.map(this.ports[portName].getLinks(), link => {\n\t\t\t\t\t\treturn link.getPointForPort(this.ports[portName]);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn entities;\n\t}\n\n\tdeSerialize(ob) {\n\t\tsuper.deSerialize(ob);\n\t\tthis.x = ob.x;\n\t\tthis.y = ob.y;\n\t\tthis.extras = ob.extras;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tx: this.x,\n\t\t\ty: this.y,\n\t\t\textras: this.extras,\n\t\t\tports: _.map(this.ports, port => {\n\t\t\t\treturn port.serialize();\n\t\t\t})\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\t// also clone the ports\n\t\tclone.ports = {};\n\t\t_.values(this.ports).forEach(port => {\n\t\t\tclone.addPort(port.clone(lookupTable));\n\t\t});\n\t}\n\n\tremove() {\n\t\tsuper.remove();\n\t\tfor (var i in this.ports) {\n\t\t\t_.forEach(this.ports[i].getLinks(), link => {\n\t\t\t\tlink.remove();\n\t\t\t});\n\t\t}\n\t}\n\n\tgetPortFromID(id): PortModel | null {\n\t\tfor (var i in this.ports) {\n\t\t\tif (this.ports[i].id === id) {\n\t\t\t\treturn this.ports[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPort(name: string): PortModel | null {\n\t\treturn this.ports[name];\n\t}\n\n\tgetPorts(): { [s: string]: PortModel } {\n\t\treturn this.ports;\n\t}\n\n\tremovePort(port: PortModel) {\n\t\t//clear the parent node reference\n\t\tif (this.ports[port.name]) {\n\t\t\tthis.ports[port.name].setParentNode(null);\n\t\t\tdelete this.ports[port.name];\n\t\t}\n\t}\n\n\taddPort(port: PortModel): PortModel {\n\t\tport.setParentNode(this);\n\t\tthis.ports[port.name] = port;\n\t\treturn port;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/NodeModel.ts","import { Toolkit } from \"./Toolkit\";\nimport * as _ from \"lodash\";\n/**\n * @author Dylan Vorster\n */\nexport interface BaseEvent<T extends BaseEntity = any> {\n\tentity: BaseEntity<BaseListener>;\n\tstopPropagation: () => any;\n\tfiring: boolean;\n\tid: string;\n}\n\nexport interface BaseListener<T extends BaseEntity = any> {\n\tlockChanged?(event: BaseEvent<T> & { locked: boolean }): void;\n}\n\nexport type BaseEntityType = \"node\" | \"link\" | \"port\" | \"point\";\n\nexport class BaseEntity<T extends BaseListener = {}> {\n\tpublic listeners: { [s: string]: T };\n\tpublic id: string;\n\tpublic locked: boolean;\n\n\tconstructor(id?: string) {\n\t\tthis.listeners = {};\n\t\tthis.id = id || Toolkit.UID();\n\t\tthis.locked = false;\n\t}\n\n\tgetID() {\n\t\treturn this.id;\n\t}\n\n\tdoClone(lookupTable = {}, clone) {}\n\n\tclone(lookupTable = {}) {\n\t\t// try and use an existing clone first\n\t\tif (lookupTable[this.id]) {\n\t\t\treturn lookupTable[this.id];\n\t\t}\n\t\tlet clone = _.clone(this);\n\t\tclone.id = Toolkit.UID();\n\t\tclone.clearListeners();\n\t\tlookupTable[this.id] = clone;\n\n\t\tthis.doClone(lookupTable, clone);\n\t\treturn clone;\n\t}\n\n\tclearListeners() {\n\t\tthis.listeners = {};\n\t}\n\n\tpublic deSerialize(data) {\n\t\tthis.id = data.id;\n\t}\n\n\tpublic serialize() {\n\t\treturn {\n\t\t\tid: this.id\n\t\t};\n\t}\n\n\tpublic iterateListeners(cb: (t: T, event: BaseEvent) => any) {\n\t\tlet event: BaseEvent = {\n\t\t\tid: Toolkit.UID(),\n\t\t\tfiring: true,\n\t\t\tentity: this,\n\t\t\tstopPropagation: () => {\n\t\t\t\tevent.firing = false;\n\t\t\t}\n\t\t};\n\t\tfor (var i in this.listeners) {\n\t\t\t// propagation stopped\n\t\t\tif (!event.firing) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcb(this.listeners[i], event);\n\t\t}\n\t}\n\n\tpublic removeListener(listener: string) {\n\t\tif (this.listeners[listener]) {\n\t\t\tdelete this.listeners[listener];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic addListener(listener: T): string {\n\t\tvar uid = Toolkit.UID();\n\t\tthis.listeners[uid] = listener;\n\t\treturn uid;\n\t}\n\n\tpublic isLocked(): boolean {\n\t\treturn this.locked;\n\t}\n\n\tpublic setLocked(locked: boolean = true) {\n\t\tthis.locked = locked;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.lockChanged) {\n\t\t\t\tlistener.lockChanged({ ...event, locked: locked });\n\t\t\t}\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/BaseEntity.ts","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { PortModel } from \"./PortModel\";\nimport { PointModel } from \"./PointModel\";\nimport * as _ from \"lodash\";\nimport { BaseEvent } from \"../BaseEntity\";\n\nexport interface LinkModelListener extends BaseModelListener {\n\tsourcePortChanged?(event: BaseEvent<LinkModel> & { port: null | PortModel }): void;\n\n\ttargetPortChanged?(event: BaseEvent<LinkModel> & { port: null | PortModel }): void;\n}\n\nexport class LinkModel extends BaseModel<LinkModelListener> {\n\tsourcePort: PortModel | null;\n\ttargetPort: PortModel | null;\n\tlabel: string;\n\tpoints: PointModel[];\n\textras: {};\n\n\tconstructor(linkType: string = \"default\", id?: string) {\n\t\tsuper(linkType, id);\n\t\tthis.points = [new PointModel(this, { x: 0, y: 0 }), new PointModel(this, { x: 0, y: 0 })];\n\t\tthis.extras = {};\n\t\tthis.sourcePort = null;\n\t\tthis.targetPort = null;\n\t\tthis.label = null;\n\t}\n\n\tdeSerialize(ob) {\n\t\tsuper.deSerialize(ob);\n\t\tthis.extras = ob.extras;\n\t\tthis.points = _.map(ob.points, (point: { x; y }) => {\n\t\t\tvar p = new PointModel(this, { x: point.x, y: point.y });\n\t\t\tp.deSerialize(point);\n\t\t\treturn p;\n\t\t});\n\t\tthis.label = ob.label || null;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tsource: this.sourcePort ? this.sourcePort.getParent().id : null,\n\t\t\tsourcePort: this.sourcePort ? this.sourcePort.id : null,\n\t\t\ttarget: this.targetPort ? this.targetPort.getParent().id : null,\n\t\t\ttargetPort: this.targetPort ? this.targetPort.id : null,\n\t\t\tpoints: _.map(this.points, point => {\n\t\t\t\treturn point.serialize();\n\t\t\t}),\n\t\t\textras: this.extras,\n\t\t\tlabel: this.label || undefined\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\tclone.setPoints(\n\t\t\t_.map(this.getPoints(), (point: PointModel) => {\n\t\t\t\treturn point.clone(lookupTable);\n\t\t\t})\n\t\t);\n\t\tif (this.sourcePort) {\n\t\t\tclone.setSourcePort(this.sourcePort.clone(lookupTable));\n\t\t}\n\t\tif (this.targetPort) {\n\t\t\tclone.setTargetPort(this.targetPort.clone(lookupTable));\n\t\t}\n\t}\n\n\tremove() {\n\t\tif (this.sourcePort) {\n\t\t\tthis.sourcePort.removeLink(this);\n\t\t}\n\t\tif (this.targetPort) {\n\t\t\tthis.targetPort.removeLink(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\tisLastPoint(point: PointModel) {\n\t\tvar index = this.getPointIndex(point);\n\t\treturn index === this.points.length - 1;\n\t}\n\n\tgetPointIndex(point: PointModel) {\n\t\treturn this.points.indexOf(point);\n\t}\n\n\tgetPointModel(id: string): PointModel | null {\n\t\tfor (var i = 0; i < this.points.length; i++) {\n\t\t\tif (this.points[i].id === id) {\n\t\t\t\treturn this.points[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPortForPoint(point: PointModel): PortModel {\n\t\tif (this.sourcePort !== null && this.getFirstPoint().getID() === point.getID()) {\n\t\t\treturn this.sourcePort;\n\t\t}\n\t\tif (this.targetPort !== null && this.getLastPoint().getID() === point.getID()) {\n\t\t\treturn this.targetPort;\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPointForPort(port: PortModel): PointModel {\n\t\tif (this.sourcePort !== null && this.sourcePort.getID() === port.getID()) {\n\t\t\treturn this.getFirstPoint();\n\t\t}\n\t\tif (this.targetPort !== null && this.targetPort.getID() === port.getID()) {\n\t\t\treturn this.getLastPoint();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetFirstPoint(): PointModel {\n\t\treturn this.points[0];\n\t}\n\n\tgetLastPoint(): PointModel {\n\t\treturn this.points[this.points.length - 1];\n\t}\n\n\tsetSourcePort(port: PortModel) {\n\t\tport.addLink(this);\n\t\tthis.sourcePort = port;\n\t\tthis.iterateListeners((listener: LinkModelListener, event) => {\n\t\t\tlistener.sourcePortChanged && listener.sourcePortChanged({ ...event, port: port });\n\t\t});\n\t}\n\n\tgetSourcePort(): PortModel {\n\t\treturn this.sourcePort;\n\t}\n\n\tgetTargetPort(): PortModel {\n\t\treturn this.targetPort;\n\t}\n\n\tsetTargetPort(port: PortModel) {\n\t\tport.addLink(this);\n\t\tthis.targetPort = port;\n\t\tthis.iterateListeners((listener: LinkModelListener, event) => {\n\t\t\tlistener.targetPortChanged && listener.targetPortChanged({ ...event, port: port });\n\t\t});\n\t}\n\n\tgetLabel(): string {\n\t\treturn this.label;\n\t}\n\n\tsetLabel(label: string) {\n\t\tthis.label = label;\n\t}\n\n\tgetPoints(): PointModel[] {\n\t\treturn this.points;\n\t}\n\n\tsetPoints(points: PointModel[]) {\n\t\t_.forEach(points, point => {\n\t\t\tpoint.link = this;\n\t\t});\n\t\tthis.points = points;\n\t}\n\n\tremovePoint(pointModel: PointModel) {\n\t\tthis.points.splice(this.getPointIndex(pointModel), 1);\n\t}\n\n\tremovePointsBefore(pointModel: PointModel) {\n\t\tthis.points.splice(0, this.getPointIndex(pointModel));\n\t}\n\n\tremovePointsAfter(pointModel: PointModel) {\n\t\tthis.points.splice(this.getPointIndex(pointModel) + 1);\n\t}\n\n\taddPoint(pointModel: PointModel, index = 1) {\n\t\tpointModel.link = this;\n\t\tthis.points.splice(index, 0, pointModel);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/LinkModel.ts","import { BaseModel } from \"./models/BaseModel\";\nimport { NodeModel } from \"./models/NodeModel\";\nimport { LinkModel } from \"./models/LinkModel\";\nimport { DiagramEngine } from \"./DiagramEngine\";\nimport { PortModel } from \"./models/PortModel\";\n\nexport abstract class AbstractFactory<T extends BaseModel> {\n\ttype: string;\n\n\tconstructor(name: string) {\n\t\tthis.type = name;\n\t}\n\n\tgetType(): string {\n\t\treturn this.type;\n\t}\n\n\tabstract getNewInstance(initialConfig?: any): T;\n}\n\nexport abstract class NodeFactory<T extends NodeModel = NodeModel> extends AbstractFactory<T> {\n\tabstract generateReactWidget(diagramEngine: DiagramEngine, node: T): JSX.Element;\n}\n\nexport abstract class LinkFactory<T extends LinkModel = LinkModel> extends AbstractFactory<T> {\n\tabstract generateReactWidget(diagramEngine: DiagramEngine, link: T): JSX.Element;\n}\n\nexport abstract class PortFactory<T extends PortModel = PortModel> extends AbstractFactory<T> {}\n\nexport class SimplePortFactory extends PortFactory {\n\tcb: (initialConfig?: any) => PortModel;\n\n\tconstructor(type: string, cb: (initialConfig?: any) => PortModel) {\n\t\tsuper(type);\n\t\tthis.cb = cb;\n\t}\n\n\tgetNewInstance(initialConfig?: any): PortModel {\n\t\treturn this.cb(initialConfig);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/AbstractFactory.ts","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { NodeModel } from \"./NodeModel\";\nimport { LinkModel } from \"./LinkModel\";\nimport * as _ from \"lodash\";\n\nexport class PortModel extends BaseModel<BaseModelListener> {\n\tname: string;\n\tparentNode: NodeModel;\n\tlinks: { [id: string]: LinkModel };\n\n\tconstructor(name: string, type?: string, id?: string) {\n\t\tsuper(type, id);\n\t\tthis.name = name;\n\t\tthis.links = {};\n\t\tthis.parentNode = null;\n\t}\n\n\tdeSerialize(ob) {\n\t\tsuper.deSerialize(ob);\n\t\tthis.name = ob.name;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tname: this.name,\n\t\t\tparentNode: this.parentNode.id,\n\t\t\tlinks: _.map(this.links, link => {\n\t\t\t\treturn link.id;\n\t\t\t})\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\tclone.links = {};\n\t\tclone.parentNode = this.parentNode.clone(lookupTable);\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n\tgetParent(): NodeModel {\n\t\treturn this.parentNode;\n\t}\n\n\tsetParentNode(node: NodeModel) {\n\t\tthis.parentNode = node;\n\t}\n\n\tremoveLink(link: LinkModel) {\n\t\tdelete this.links[link.getID()];\n\t}\n\n\taddLink(link: LinkModel) {\n\t\tthis.links[link.getID()] = link;\n\t}\n\n\tgetLinks(): { [id: string]: LinkModel } {\n\t\treturn this.links;\n\t}\n\n\tcreateLinkModel(): LinkModel | null {\n\t\tvar linkModel = new LinkModel();\n\t\tlinkModel.setSourcePort(this);\n\t\treturn linkModel;\n\t}\n\n\tisLocked() {\n\t\treturn super.isLocked() || this.getParent().isLocked();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/PortModel.ts","import closest = require(\"closest\");\n/**\n * @author Dylan Vorster\n */\nexport class Toolkit {\n\tstatic TESTING_MODE = false;\n\tstatic TESTING_MODE_ID = 1;\n\n\t/**\n\t * Generats a unique ID (thanks Stack overflow :3)\n\t * @returns {String}\n\t */\n\tpublic static UID(): string {\n\t\tif (Toolkit.TESTING_MODE) {\n\t\t\tToolkit.TESTING_MODE_ID++;\n\t\t\treturn \"test-uid-\" + Toolkit.TESTING_MODE_ID;\n\t\t}\n\t\treturn \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c == \"x\" ? r : (r & 0x3) | 0x8;\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\t/**\n\t * Finds the closest element as a polyfill\n\t *\n\t * @param  {Element} element  [description]\n\t * @param  {string}  selector [description]\n\t */\n\tpublic static closest(element: Element, selector: string) {\n\t\tif (document.body.closest) {\n\t\t\treturn element.closest(selector);\n\t\t}\n\t\treturn closest(element, selector);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Toolkit.ts","import { BaseListener, BaseEntity, BaseEvent, BaseEntityType } from \"../BaseEntity\";\nimport * as _ from \"lodash\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"./LinkModel\";\nimport { NodeModel } from \"./NodeModel\";\nimport { PortModel } from \"./PortModel\";\nimport { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { PointModel } from \"./PointModel\";\n/**\n * @author Dylan Vorster\n *\n */\nexport interface DiagramListener extends BaseListener {\n\tnodesUpdated?(event: BaseEvent & { node: NodeModel; isCreated: boolean }): void;\n\n\tlinksUpdated?(event: BaseEvent & { link: LinkModel; isCreated: boolean }): void;\n\n\toffsetUpdated?(event: BaseEvent<DiagramModel> & { offsetX: number; offsetY: number }): void;\n\n\tzoomUpdated?(event: BaseEvent<DiagramModel> & { zoom: number }): void;\n\n\tgridUpdated?(event: BaseEvent<DiagramModel> & { size: number }): void;\n}\n\n/**\n *\n */\nexport class DiagramModel extends BaseEntity<DiagramListener> {\n\t//models\n\tlinks: { [s: string]: LinkModel };\n\tnodes: { [s: string]: NodeModel };\n\n\t//control variables\n\toffsetX: number;\n\toffsetY: number;\n\tzoom: number;\n\trendered: boolean;\n\tgridSize: number;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.links = {};\n\t\tthis.nodes = {};\n\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t\tthis.zoom = 100;\n\t\tthis.rendered = false;\n\t\tthis.gridSize = 0;\n\t}\n\n\tsetGridSize(size: number = 0) {\n\t\tthis.gridSize = size;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.gridUpdated && listener.gridUpdated({ ...event, size: size });\n\t\t});\n\t}\n\n\tgetGridPosition(pos) {\n\t\tif (this.gridSize === 0) {\n\t\t\treturn pos;\n\t\t}\n\t\treturn this.gridSize * Math.floor((pos + this.gridSize / 2) / this.gridSize);\n\t}\n\n\tdeSerializeDiagram(object: any, diagramEngine: DiagramEngine) {\n\t\tthis.deSerialize(object);\n\n\t\tthis.offsetX = object.offsetX;\n\t\tthis.offsetY = object.offsetY;\n\t\tthis.zoom = object.zoom;\n\t\tthis.gridSize = object.gridSize;\n\n\t\t//deserialize nodes\n\t\t_.forEach(object.nodes, (node: any) => {\n\t\t\tlet nodeOb = diagramEngine.getNodeFactory(node.type).getNewInstance(node);\n\t\t\tnodeOb.deSerialize(node);\n\t\t\t//deserialize ports\n\t\t\t_.forEach(node.ports, (port: any) => {\n\t\t\t\tlet portOb = diagramEngine.getPortFactory(port.type).getNewInstance();\n\t\t\t\tportOb.deSerialize(port);\n\t\t\t\tnodeOb.addPort(portOb);\n\t\t\t});\n\n\t\t\tthis.addNode(nodeOb);\n\t\t});\n\n\t\t_.forEach(object.links, (link: any) => {\n\t\t\tlet linkOb = diagramEngine.getLinkFactory(link.type).getNewInstance();\n\t\t\tlinkOb.deSerialize(link);\n\n\t\t\tif (link.target) {\n\t\t\t\tlinkOb.setTargetPort(this.getNode(link.target).getPortFromID(link.targetPort));\n\t\t\t}\n\n\t\t\tif (link.source) {\n\t\t\t\tlinkOb.setSourcePort(this.getNode(link.source).getPortFromID(link.sourcePort));\n\t\t\t}\n\n\t\t\tthis.addLink(linkOb);\n\t\t});\n\t}\n\n\tserializeDiagram() {\n\t\treturn _.merge(this.serialize(), {\n\t\t\toffsetX: this.offsetX,\n\t\t\toffsetY: this.offsetY,\n\t\t\tzoom: this.zoom,\n\t\t\tgridSize: this.gridSize,\n\t\t\tlinks: _.map(this.links, link => {\n\t\t\t\treturn link.serialize();\n\t\t\t}),\n\t\t\tnodes: _.map(this.nodes, link => {\n\t\t\t\treturn link.serialize();\n\t\t\t})\n\t\t});\n\t}\n\n\tclearSelection(ignore: BaseModel<BaseModelListener> | null = null) {\n\t\t_.forEach(this.getSelectedItems(), element => {\n\t\t\tif (ignore && ignore.getID() === element.getID()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement.setSelected(false); //TODO dont fire the listener\n\t\t});\n\t}\n\n\tgetSelectedItems(...filters: BaseEntityType[]): BaseModel<BaseModelListener>[] {\n\t\tif (!Array.isArray(filters)) {\n\t\t\tfilters = [filters];\n\t\t}\n\t\tvar items = [];\n\n\t\t// run through nodes\n\t\titems = items.concat(\n\t\t\t_.flatMap(this.nodes, node => {\n\t\t\t\treturn node.getSelectedEntities();\n\t\t\t})\n\t\t);\n\n\t\t// find all the links\n\t\titems = items.concat(\n\t\t\t_.flatMap(this.links, link => {\n\t\t\t\treturn link.getSelectedEntities();\n\t\t\t})\n\t\t);\n\n\t\t//find all points\n\t\titems = items.concat(\n\t\t\t_.flatMap(this.links, link => {\n\t\t\t\treturn _.flatMap(link.points, point => {\n\t\t\t\t\treturn point.getSelectedEntities();\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\n\t\titems = _.uniq(items);\n\n\t\tif (filters.length > 0) {\n\t\t\titems = _.filter(_.uniq(items), (item: BaseModel<any>) => {\n\t\t\t\tif (_.includes(filters, \"node\") && item instanceof NodeModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (_.includes(filters, \"link\") && item instanceof LinkModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (_.includes(filters, \"port\") && item instanceof PortModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (_.includes(filters, \"point\") && item instanceof PointModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tsetZoomLevel(zoom: number) {\n\t\tthis.zoom = zoom;\n\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.zoomUpdated && listener.zoomUpdated({ ...event, zoom: zoom });\n\t\t});\n\t}\n\n\tsetOffset(offsetX: number, offsetY: number) {\n\t\tthis.offsetX = offsetX;\n\t\tthis.offsetY = offsetY;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.offsetUpdated && listener.offsetUpdated({ ...event, offsetX: offsetX, offsetY: offsetY });\n\t\t});\n\t}\n\n\tsetOffsetX(offsetX: number) {\n\t\tthis.offsetX = offsetX;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.offsetUpdated && listener.offsetUpdated({ ...event, offsetX: offsetX, offsetY: this.offsetY });\n\t\t});\n\t}\n\tsetOffsetY(offsetY: number) {\n\t\tthis.offsetY = offsetY;\n\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.offsetUpdated &&\n\t\t\t\tlistener.offsetUpdated({ ...event, offsetX: this.offsetX, offsetY: this.offsetY });\n\t\t});\n\t}\n\n\tgetOffsetY() {\n\t\treturn this.offsetY;\n\t}\n\n\tgetOffsetX() {\n\t\treturn this.offsetX;\n\t}\n\n\tgetZoomLevel() {\n\t\treturn this.zoom;\n\t}\n\n\tgetNode(node: string | NodeModel): NodeModel | null {\n\t\tif (node instanceof NodeModel) {\n\t\t\treturn node;\n\t\t}\n\t\tif (!this.nodes[node]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.nodes[node];\n\t}\n\n\tgetLink(link: string | LinkModel): LinkModel | null {\n\t\tif (link instanceof LinkModel) {\n\t\t\treturn link;\n\t\t}\n\t\tif (!this.links[link]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.links[link];\n\t}\n\n\taddLink(link: LinkModel): LinkModel {\n\t\tlink.addListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\tthis.removeLink(link);\n\t\t\t}\n\t\t});\n\t\tthis.links[link.getID()] = link;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.linksUpdated && listener.linksUpdated({ ...event, link: link, isCreated: true });\n\t\t});\n\t\treturn link;\n\t}\n\n\taddNode(node: NodeModel): NodeModel {\n\t\tnode.addListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\tthis.removeNode(node);\n\t\t\t}\n\t\t});\n\t\tthis.nodes[node.getID()] = node;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.nodesUpdated && listener.nodesUpdated({ ...event, node: node, isCreated: true });\n\t\t});\n\t\treturn node;\n\t}\n\n\tremoveLink(link: LinkModel | string) {\n\t\tlink = this.getLink(link);\n\t\tdelete this.links[link.getID()];\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.linksUpdated && listener.linksUpdated({ ...event, link: link as LinkModel, isCreated: false });\n\t\t});\n\t}\n\n\tremoveNode(node: NodeModel | string) {\n\t\tnode = this.getNode(node);\n\t\tdelete this.nodes[node.getID()];\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tlistener.nodesUpdated && listener.nodesUpdated({ ...event, node: node as NodeModel, isCreated: false });\n\t\t});\n\t}\n\n\tgetLinks(): { [s: string]: LinkModel } {\n\t\treturn this.links;\n\t}\n\n\tgetNodes(): { [s: string]: NodeModel } {\n\t\treturn this.nodes;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/DiagramModel.ts","/**\n * @author Dylan Vorster\n */\n\n//export defaults\nexport * from \"./defaults/DefaultLinkFactory\";\nexport * from \"./defaults/DefaultLinkWidget\";\nexport * from \"./defaults/DefaultNodeFactory\";\nexport * from \"./defaults/DefaultNodeWidget\";\nexport * from \"./defaults/DefaultNodeModel\";\nexport * from \"./defaults/DefaultPortModel\";\nexport * from \"./defaults/DefaultPortLabelWidget\";\n\nexport * from \"./AbstractFactory\";\nexport * from \"./Toolkit\";\n\nexport * from \"./DiagramEngine\";\nexport * from \"./models/DiagramModel\";\nexport * from \"./BaseEntity\";\nexport * from \"./CanvasActions\";\n\nexport * from \"./models/BaseModel\";\nexport * from \"./models/DiagramModel\";\nexport * from \"./models/LinkModel\";\nexport * from \"./models/NodeModel\";\nexport * from \"./models/PointModel\";\nexport * from \"./models/PortModel\";\n\nexport * from \"./widgets/DiagramWidget\";\nexport * from \"./widgets/LinkLayerWidget\";\nexport * from \"./widgets/LinkWidget\";\nexport * from \"./widgets/NodeLayerWidget\";\nexport * from \"./widgets/NodeWidget\";\nexport * from \"./widgets/PortWidget\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"../models/LinkModel\";\nimport { PointModel } from \"../models/PointModel\";\n\nexport interface DefaultLinkProps {\n\tcolor?: string;\n\twidth?: number;\n\tsmooth?: boolean;\n\tlink: LinkModel;\n\tdiagramEngine: DiagramEngine;\n\tpointAdded?: (point: PointModel, event: MouseEvent) => any;\n}\n\nexport interface DefaultLinkState {\n\tselected: boolean;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultLinkWidget extends React.Component<DefaultLinkProps, DefaultLinkState> {\n\tpublic static defaultProps: DefaultLinkProps = {\n\t\tcolor: \"black\",\n\t\twidth: 3,\n\t\tlink: null,\n\t\tengine: null,\n\t\tsmooth: false,\n\t\tdiagramEngine: null\n\t};\n\n\t// DOM references to the label and paths (if label is given), used to calculate dynamic positioning\n\trefLabel: HTMLElement;\n\trefPaths: SVGPathElement[];\n\n\tconstructor(props: DefaultLinkProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselected: false\n\t\t};\n\t}\n\n\taddPointToLink = (event: MouseEvent, index: number): void => {\n\t\tif (\n\t\t\t!event.shiftKey &&\n\t\t\t!this.props.diagramEngine.isModelLocked(this.props.link) &&\n\t\t\tthis.props.link.points.length - 1 <= this.props.diagramEngine.getMaxNumberPointsPerLink()\n\t\t) {\n\t\t\tconst point = new PointModel(this.props.link, this.props.diagramEngine.getRelativeMousePoint(event));\n\t\t\tpoint.setSelected(true);\n\t\t\tthis.forceUpdate();\n\t\t\tthis.props.link.addPoint(point, index);\n\t\t\tthis.props.pointAdded(point, event);\n\t\t}\n\t};\n\n\tgeneratePoint(pointIndex: number): JSX.Element {\n\t\tlet x = this.props.link.points[pointIndex].x;\n\t\tlet y = this.props.link.points[pointIndex].y;\n\n\t\treturn (\n\t\t\t<g key={\"point-\" + this.props.link.points[pointIndex].id}>\n\t\t\t\t<circle\n\t\t\t\t\tcx={x}\n\t\t\t\t\tcy={y}\n\t\t\t\t\tr={5}\n\t\t\t\t\tclassName={\"point pointui\" + (this.props.link.points[pointIndex].isSelected() ? \" selected\" : \"\")}\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t\t}}\n\t\t\t\t\tdata-id={this.props.link.points[pointIndex].id}\n\t\t\t\t\tdata-linkid={this.props.link.id}\n\t\t\t\t\tcx={x}\n\t\t\t\t\tcy={y}\n\t\t\t\t\tr={15}\n\t\t\t\t\topacity={0}\n\t\t\t\t\tclassName={\"point\"}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n\n\tgenerateLink(extraProps: any, id: string | number): JSX.Element {\n\t\tvar props = this.props;\n\n\t\tvar Bottom = (\n\t\t\t<path\n\t\t\t\tclassName={this.state.selected || this.props.link.isSelected() ? \"selected\" : \"\"}\n\t\t\t\tstrokeWidth={props.width}\n\t\t\t\tstroke={props.color}\n\t\t\t\tref={path => path && this.refPaths.push(path)}\n\t\t\t\t{...extraProps}\n\t\t\t/>\n\t\t);\n\n\t\tvar Top = (\n\t\t\t<path\n\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t}}\n\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t}}\n\t\t\t\tdata-linkid={this.props.link.getID()}\n\t\t\t\tstroke={props.color}\n\t\t\t\tstrokeOpacity={this.state.selected ? 0.1 : 0}\n\t\t\t\tstrokeWidth={20}\n\t\t\t\tonContextMenu={() => {\n\t\t\t\t\tif (!this.props.diagramEngine.isModelLocked(this.props.link)) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.props.link.remove();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t{...extraProps}\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<g key={\"link-\" + id}>\n\t\t\t\t{Bottom}\n\t\t\t\t{Top}\n\t\t\t</g>\n\t\t);\n\t}\n\n\tgenerateLabel() {\n\t\tconst canvas = this.props.diagramEngine.canvas as HTMLElement;\n\t\treturn (\n\t\t\t<foreignObject className=\"link-label\" width={canvas.offsetWidth} height={canvas.offsetHeight}>\n\t\t\t\t<div ref={label => (this.refLabel = label)}>{this.props.link.label}</div>\n\t\t\t</foreignObject>\n\t\t);\n\t}\n\n\tfindPathAndRelativePositionToRenderLabel = (): {\n\t\tpath: any;\n\t\tposition: number;\n\t} => {\n\t\t// an array to hold all path lengths, making sure we hit the DOM only once to fetch this information\n\t\tconst lengths = this.refPaths.map(path => path.getTotalLength());\n\n\t\t// calculate the point where we want to display the label\n\t\tlet labelPosition = lengths.reduce((previousValue, currentValue) => previousValue + currentValue, 0) / 2;\n\n\t\t// find the path where the label will be rendered and calculate the relative position\n\t\tlet pathIndex = 0;\n\t\twhile (pathIndex < this.refPaths.length) {\n\t\t\tif (labelPosition - lengths[pathIndex] < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tpath: this.refPaths[pathIndex],\n\t\t\t\t\tposition: labelPosition\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// keep searching\n\t\t\tlabelPosition -= lengths[pathIndex];\n\t\t\tpathIndex++;\n\t\t}\n\t};\n\n\tcalculateLabelPosition = () => {\n\t\tif (!this.refLabel) {\n\t\t\t// no label? nothing to do here\n\t\t\treturn;\n\t\t}\n\n\t\tconst { path, position } = this.findPathAndRelativePositionToRenderLabel();\n\n\t\tconst labelDimensions = {\n\t\t\twidth: this.refLabel.offsetWidth,\n\t\t\theight: this.refLabel.offsetHeight\n\t\t};\n\n\t\tconst pathCentre = path.getPointAtLength(position);\n\n\t\tconst labelCoordinates = {\n\t\t\tx: pathCentre.x - labelDimensions.width / 2,\n\t\t\ty: pathCentre.y - labelDimensions.height / 2\n\t\t};\n\n\t\tthis.refLabel.setAttribute(\"style\", `transform: translate(${labelCoordinates.x}px, ${labelCoordinates.y}px);`);\n\t};\n\n\tcomponentDidUpdate() {\n\t\twindow.requestAnimationFrame(this.calculateLabelPosition);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.requestAnimationFrame(this.calculateLabelPosition);\n\t}\n\n\tgenerateLinePath(firstPoint: PointModel, lastPoint: PointModel): string {\n\t\treturn `M${firstPoint.x},${firstPoint.y} L ${lastPoint.x},${lastPoint.y}`;\n\t}\n\n\tgenerateCurvePath(\n\t\tfirstPoint: PointModel,\n\t\tlastPoint: PointModel,\n\t\tfirstPointDelta: number = 0,\n\t\tlastPointDelta: number = 0\n\t): string {\n\t\treturn `M${firstPoint.x},${firstPoint.y} C ${firstPoint.x + firstPointDelta},${firstPoint.y} ${lastPoint.x +\n\t\t\tlastPointDelta},${lastPoint.y} ${lastPoint.x},${lastPoint.y}`;\n\t}\n\n\trender() {\n\t\t//ensure id is present for all points on the path\n\t\tvar points = this.props.link.points;\n\t\tvar paths = [];\n\t\tlet model = this.props.diagramEngine.getDiagramModel();\n\n\t\t//draw the smoothing\n\t\tif (points.length === 2) {\n\t\t\t//if the points are too close, just draw a straight line\n\t\t\tvar margin = 50;\n\t\t\tif (Math.abs(points[0].x - points[1].x) < 50) {\n\t\t\t\tmargin = 5;\n\t\t\t}\n\n\t\t\tvar pointLeft = points[0];\n\t\t\tvar pointRight = points[1];\n\n\t\t\t//some defensive programming to make sure the smoothing is\n\t\t\t//always in the right direction\n\t\t\tif (pointLeft.x > pointRight.x) {\n\t\t\t\tpointLeft = points[1];\n\t\t\t\tpointRight = points[0];\n\t\t\t}\n\n\t\t\tpaths.push(\n\t\t\t\tthis.generateLink(\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: event => {\n\t\t\t\t\t\t\tthis.addPointToLink(event, 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\td: this.generateCurvePath(pointLeft, pointRight, margin, -margin)\n\t\t\t\t\t},\n\t\t\t\t\t\"0\"\n\t\t\t\t)\n\t\t\t);\n\t\t\tif (this.props.link.targetPort === null) {\n\t\t\t\tpaths.push(this.generatePoint(1));\n\t\t\t}\n\t\t} else {\n\t\t\t//draw the multiple anchors and complex line instead\n\t\t\tvar ds = [];\n\t\t\tif (this.props.smooth) {\n\t\t\t\tds.push(this.generateCurvePath(points[0], points[1], 50, 0));\n\t\t\t\tfor (var i = 1; i < points.length - 2; i++) {\n\t\t\t\t\tds.push(this.generateLinePath(points[i], points[i + 1]));\n\t\t\t\t}\n\t\t\t\tds.push(this.generateCurvePath(points[i], points[i + 1], 0, -50));\n\t\t\t} else {\n\t\t\t\tvar ds = [];\n\t\t\t\tfor (var i = 0; i < points.length - 1; i++) {\n\t\t\t\t\tds.push(this.generateLinePath(points[i], points[i + 1]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpaths = ds.map((data, index) => {\n\t\t\t\treturn this.generateLink(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data-linkid\": this.props.link.id,\n\t\t\t\t\t\t\"data-point\": index,\n\t\t\t\t\t\tonMouseDown: (event: MouseEvent) => {\n\t\t\t\t\t\t\tthis.addPointToLink(event, index + 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\td: data\n\t\t\t\t\t},\n\t\t\t\t\tindex\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t//render the circles\n\t\t\tfor (var i = 1; i < points.length - 1; i++) {\n\t\t\t\tpaths.push(this.generatePoint(i));\n\t\t\t}\n\n\t\t\tif (this.props.link.targetPort === null) {\n\t\t\t\tpaths.push(this.generatePoint(points.length - 1));\n\t\t\t}\n\t\t}\n\n\t\t// ensure we have the right references when a redraw occurs\n\t\tthis.refLabel = null;\n\t\tthis.refPaths = [];\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{paths}\n\t\t\t\t{this.props.link.label && this.generateLabel()}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultLinkWidget.tsx","import { DefaultPortModel } from \"./DefaultPortModel\";\nimport * as _ from \"lodash\";\n\nimport { NodeModel } from \"../models/NodeModel\";\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeModel extends NodeModel {\n\tname: string;\n\tcolor: string;\n\tports: { [s: string]: DefaultPortModel };\n\n\tconstructor(name: string = \"Untitled\", color: string = \"rgb(0,192,255)\") {\n\t\tsuper(\"default\");\n\t\tthis.name = name;\n\t\tthis.color = color;\n\t}\n\n\tdeSerialize(object) {\n\t\tsuper.deSerialize(object);\n\t\tthis.name = object.name;\n\t\tthis.color = object.color;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tname: this.name,\n\t\t\tcolor: this.color\n\t\t});\n\t}\n\n\tgetInPorts(): DefaultPortModel[] {\n\t\treturn _.filter(this.ports, portModel => {\n\t\t\treturn portModel.in;\n\t\t});\n\t}\n\n\tgetOutPorts(): DefaultPortModel[] {\n\t\treturn _.filter(this.ports, portModel => {\n\t\t\treturn !portModel.in;\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultNodeModel.ts","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { DefaultNodeModel } from \"./DefaultNodeModel\";\nimport { DefaultPortLabel } from \"./DefaultPortLabelWidget\";\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport interface DefaultNodeProps {\n\tnode: DefaultNodeModel;\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface DefaultNodeState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeWidget extends React.Component<DefaultNodeProps, DefaultNodeState> {\n\tconstructor(props: DefaultNodeProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tgeneratePort(port) {\n\t\treturn <DefaultPortLabel model={port} key={port.id} />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"basic-node\" style={{ background: this.props.node.color }}>\n\t\t\t\t<div className=\"title\">\n\t\t\t\t\t<div className=\"name\">{this.props.node.name}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ports\">\n\t\t\t\t\t<div className=\"in\">{_.map(this.props.node.getInPorts(), this.generatePort.bind(this))}</div>\n\t\t\t\t\t<div className=\"out\">{_.map(this.props.node.getOutPorts(), this.generatePort.bind(this))}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultNodeWidget.tsx","import * as React from \"react\";\nimport { DefaultPortModel } from \"./DefaultPortModel\";\nimport { PortWidget } from \"../widgets/PortWidget\";\n\nexport interface DefaultPortLabelProps {\n\tmodel?: DefaultPortModel;\n\tin?: boolean;\n\tlabel?: string;\n}\n\nexport interface DefaultPortLabelState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultPortLabel extends React.Component<DefaultPortLabelProps, DefaultPortLabelState> {\n\tpublic static defaultProps: DefaultPortLabelProps = {\n\t\tin: true,\n\t\tlabel: \"port\"\n\t};\n\n\trender() {\n\t\tvar port = <PortWidget node={this.props.model.getParent()} name={this.props.model.name} />;\n\t\tvar label = <div className=\"name\">{this.props.model.label}</div>;\n\n\t\treturn (\n\t\t\t<div className={(this.props.model.in ? \"in\" : \"out\") + \"-port\"}>\n\t\t\t\t{this.props.model.in ? port : label}\n\t\t\t\t{this.props.model.in ? label : port}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultPortLabelWidget.tsx","import * as React from \"react\";\nimport { NodeModel } from \"../models/NodeModel\";\n\nexport interface PortProps {\n\tname: string;\n\tnode: NodeModel;\n}\n\nexport interface PortState {\n\tselected: boolean;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class PortWidget extends React.Component<PortProps, PortState> {\n\tconstructor(props: PortProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselected: false\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t}}\n\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t}}\n\t\t\t\tclassName={\"port\" + (this.state.selected ? \" selected\" : \"\")}\n\t\t\t\tdata-name={this.props.name}\n\t\t\t\tdata-nodeid={this.props.node.getID()}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/PortWidget.tsx","import * as _ from \"lodash\";\nimport { PortModel } from \"../models/PortModel\";\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultPortModel extends PortModel {\n\tin: boolean;\n\tlabel: string;\n\n\tconstructor(isInput: boolean, name: string, label: string = null, id?: string) {\n\t\tsuper(name, \"default\", id);\n\t\tthis.in = isInput;\n\t\tthis.label = label || name;\n\t}\n\n\tdeSerialize(object) {\n\t\tsuper.deSerialize(object);\n\t\tthis.in = object.in;\n\t\tthis.label = object.label;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tin: this.in,\n\t\t\tlabel: this.label\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultPortModel.ts","import { DiagramModel } from \"./models/DiagramModel\";\nimport { DiagramEngine } from \"./DiagramEngine\";\nimport { SelectionModel } from \"./widgets/DiagramWidget\";\nimport { PointModel } from \"./models/PointModel\";\nimport { NodeModel } from \"./models/NodeModel\";\n\nexport class BaseAction {\n\tmouseX: number;\n\tmouseY: number;\n\tms: number;\n\n\tconstructor(mouseX: number, mouseY: number) {\n\t\tthis.mouseX = mouseX;\n\t\tthis.mouseY = mouseY;\n\t\tthis.ms = new Date().getTime();\n\t}\n}\n\nexport class SelectingAction extends BaseAction {\n\tmouseX2: number;\n\tmouseY2: number;\n\n\tconstructor(mouseX: number, mouseY: number) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.mouseX2 = mouseX;\n\t\tthis.mouseY2 = mouseY;\n\t}\n\n\tgetBoxDimensions() {\n\t\treturn {\n\t\t\tleft: this.mouseX2 > this.mouseX ? this.mouseX : this.mouseX2,\n\t\t\ttop: this.mouseY2 > this.mouseY ? this.mouseY : this.mouseY2,\n\t\t\twidth: Math.abs(this.mouseX2 - this.mouseX),\n\t\t\theight: Math.abs(this.mouseY2 - this.mouseY),\n\t\t\tright: this.mouseX2 < this.mouseX ? this.mouseX : this.mouseX2,\n\t\t\tbottom: this.mouseY2 < this.mouseY ? this.mouseY : this.mouseY2\n\t\t};\n\t}\n\n\tcontainsElement(x: number, y: number, diagramModel: DiagramModel): boolean {\n\t\tvar z = diagramModel.getZoomLevel() / 100.0;\n\t\tlet dimensions = this.getBoxDimensions();\n\n\t\treturn (\n\t\t\tx * z + diagramModel.getOffsetX() > dimensions.left &&\n\t\t\tx * z + diagramModel.getOffsetX() < dimensions.right &&\n\t\t\ty * z + diagramModel.getOffsetY() > dimensions.top &&\n\t\t\ty * z + diagramModel.getOffsetY() < dimensions.bottom\n\t\t);\n\t}\n}\n\nexport class MoveCanvasAction extends BaseAction {\n\tinitialOffsetX: number;\n\tinitialOffsetY: number;\n\n\tconstructor(mouseX: number, mouseY: number, diagramModel: DiagramModel) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.initialOffsetX = diagramModel.getOffsetX();\n\t\tthis.initialOffsetY = diagramModel.getOffsetY();\n\t}\n}\n\nexport class MoveItemsAction extends BaseAction {\n\tselectionModels: SelectionModel[];\n\tmoved: boolean;\n\n\tconstructor(mouseX: number, mouseY: number, diagramEngine: DiagramEngine) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.moved = false;\n\t\tdiagramEngine.enableRepaintEntities(diagramEngine.getDiagramModel().getSelectedItems());\n\t\tvar selectedItems = diagramEngine.getDiagramModel().getSelectedItems();\n\n\t\t//dont allow items which are locked to move\n\t\tselectedItems = selectedItems.filter(item => {\n\t\t\treturn !diagramEngine.isModelLocked(item);\n\t\t});\n\n\t\tthis.selectionModels = selectedItems.map((item: PointModel | NodeModel) => {\n\t\t\treturn {\n\t\t\t\tmodel: item,\n\t\t\t\tinitialX: item.x,\n\t\t\t\tinitialY: item.y\n\t\t\t};\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CanvasActions.ts","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkWidget } from \"./LinkWidget\";\nimport * as _ from \"lodash\";\nimport { PointModel } from \"../models/PointModel\";\n\nexport interface LinkLayerProps {\n\tdiagramEngine: DiagramEngine;\n\tpointAdded: (point: PointModel, event: MouseEvent) => any;\n}\n\nexport interface LinkLayerState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class LinkLayerWidget extends React.Component<LinkLayerProps, LinkLayerState> {\n\tconstructor(props: LinkLayerProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\trender() {\n\t\tvar diagramModel = this.props.diagramEngine.getDiagramModel();\n\t\treturn (\n\t\t\t<svg\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform:\n\t\t\t\t\t\t\"translate(\" +\n\t\t\t\t\t\tdiagramModel.getOffsetX() +\n\t\t\t\t\t\t\"px,\" +\n\t\t\t\t\t\tdiagramModel.getOffsetY() +\n\t\t\t\t\t\t\"px) scale(\" +\n\t\t\t\t\t\tdiagramModel.getZoomLevel() / 100.0 +\n\t\t\t\t\t\t\")\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{//only perform these actions when we have a diagram\n\t\t\t\tthis.props.diagramEngine.canvas &&\n\t\t\t\t\t_.map(diagramModel.getLinks(), link => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.props.diagramEngine.nodesRendered &&\n\t\t\t\t\t\t\t!this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (link.sourcePort !== null) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tlink.points[0].updateLocation(\n\t\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.getPortCenter(link.sourcePort)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\n\t\t\t\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (link.targetPort !== null) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t_.last(link.points).updateLocation(\n\t\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.getPortCenter(link.targetPort)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\n\t\t\t\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//generate links\n\t\t\t\t\t\tvar generatedLink = this.props.diagramEngine.generateWidgetForLink(link);\n\t\t\t\t\t\tif (!generatedLink) {\n\t\t\t\t\t\t\tconsole.log(\"no link generated for type: \" + link.getType());\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LinkWidget key={link.getID()} link={link} diagramEngine={this.props.diagramEngine}>\n\t\t\t\t\t\t\t\t{React.cloneElement(generatedLink, {\n\t\t\t\t\t\t\t\t\tpointAdded: this.props.pointAdded\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</LinkWidget>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/LinkLayerWidget.tsx","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"../models/LinkModel\";\n\nexport interface LinkProps {\n\tlink: LinkModel;\n\tdiagramEngine: DiagramEngine;\n\tchildren?: any;\n}\n\nexport interface LinkState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class LinkWidget extends React.Component<LinkProps, LinkState> {\n\tconstructor(props: LinkProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tshouldComponentUpdate() {\n\t\treturn this.props.diagramEngine.canEntityRepaint(this.props.link);\n\t}\n\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/LinkWidget.tsx","import * as React from \"react\";\nimport { DiagramModel } from \"../models/DiagramModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport * as _ from \"lodash\";\nimport { NodeWidget } from \"./NodeWidget\";\n\nexport interface NodeLayerProps {\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface NodeLayerState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class NodeLayerWidget extends React.Component<NodeLayerProps, NodeLayerState> {\n\tconstructor(props: NodeLayerProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.props.diagramEngine.nodesRendered = true;\n\t}\n\n\trender() {\n\t\tvar diagramModel = this.props.diagramEngine.getDiagramModel();\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"node-view\"\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform:\n\t\t\t\t\t\t\"translate(\" +\n\t\t\t\t\t\tdiagramModel.getOffsetX() +\n\t\t\t\t\t\t\"px,\" +\n\t\t\t\t\t\tdiagramModel.getOffsetY() +\n\t\t\t\t\t\t\"px) scale(\" +\n\t\t\t\t\t\tdiagramModel.getZoomLevel() / 100.0 +\n\t\t\t\t\t\t\")\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{_.map(diagramModel.getNodes(), node => {\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\tNodeWidget,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdiagramEngine: this.props.diagramEngine,\n\t\t\t\t\t\t\tkey: node.id,\n\t\t\t\t\t\t\tnode: node\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.props.diagramEngine.generateWidgetForNode(node)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/NodeLayerWidget.tsx","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { NodeModel } from \"../models/NodeModel\";\n\nexport interface NodeProps {\n\tnode: NodeModel;\n\tchildren?: any;\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface NodeState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class NodeWidget extends React.Component<NodeProps, NodeState> {\n\tconstructor(props: NodeProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tshouldComponentUpdate() {\n\t\treturn this.props.diagramEngine.canEntityRepaint(this.props.node);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tdata-nodeid={this.props.node.id}\n\t\t\t\tclassName={\"node\" + (this.props.node.isSelected() ? \" selected\" : \"\")}\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: this.props.node.y,\n\t\t\t\t\tleft: this.props.node.x\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/NodeWidget.tsx","import * as React from \"react\";\nimport { DefaultLinkWidget } from \"./DefaultLinkWidget\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"../models/LinkModel\";\nimport { LinkFactory } from \"../AbstractFactory\";\n/**\n * @author Dylan Vorster\n */\nexport class DefaultLinkFactory extends LinkFactory {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgenerateReactWidget(diagramEngine: DiagramEngine, link: LinkModel): JSX.Element {\n\t\treturn React.createElement(DefaultLinkWidget, {\n\t\t\tlink: link,\n\t\t\tdiagramEngine: diagramEngine\n\t\t});\n\t}\n\n\tgetNewInstance(initialConfig?: any): LinkModel {\n\t\treturn new LinkModel();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultLinkFactory.ts","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/closest/index.js\n// module id = 24\n// module chunks = 0","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/matches-selector/index.js\n// module id = 25\n// module chunks = 0","import { DefaultNodeModel } from \"./DefaultNodeModel\";\nimport * as React from \"react\";\nimport { DefaultNodeWidget } from \"./DefaultNodeWidget\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { NodeFactory } from \"../AbstractFactory\";\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeFactory extends NodeFactory<DefaultNodeModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgenerateReactWidget(diagramEngine: DiagramEngine, node: DefaultNodeModel): JSX.Element {\n\t\treturn React.createElement(DefaultNodeWidget, {\n\t\t\tnode: node,\n\t\t\tdiagramEngine: diagramEngine\n\t\t});\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultNodeModel {\n\t\treturn new DefaultNodeModel();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultNodeFactory.ts","import { BaseEntity, BaseListener } from \"./BaseEntity\";\nimport { DiagramModel } from \"./models/DiagramModel\";\nimport * as _ from \"lodash\";\nimport { BaseModel, BaseModelListener } from \"./models/BaseModel\";\nimport { NodeModel } from \"./models/NodeModel\";\nimport { PointModel } from \"./models/PointModel\";\nimport { PortModel } from \"./models/PortModel\";\nimport { LinkModel } from \"./models/LinkModel\";\nimport { LinkFactory, NodeFactory, PortFactory } from \"./AbstractFactory\";\nimport { DefaultLinkFactory, DefaultNodeFactory } from \"./main\";\nimport { DefaultPortFactory } from \"./defaults/DefaultPortFactory\";\n/**\n * @author Dylan Vorster\n */\nexport interface DiagramEngineListener extends BaseListener {\n\tportFactoriesUpdated?(): void;\n\n\tnodeFactoriesUpdated?(): void;\n\n\tlinkFactoriesUpdated?(): void;\n\n\trepaintCanvas?(): void;\n}\n\n/**\n * Passed as a parameter to the DiagramWidget\n */\nexport class DiagramEngine extends BaseEntity<DiagramEngineListener> {\n\tnodeFactories: { [s: string]: NodeFactory };\n\tlinkFactories: { [s: string]: LinkFactory };\n\tportFactories: { [s: string]: PortFactory };\n\n\tdiagramModel: DiagramModel;\n\tcanvas: Element;\n\tpaintableWidgets: {};\n\tlinksThatHaveInitiallyRendered: {};\n\tnodesRendered: boolean;\n\tmaxNumberPointsPerLink: number;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.diagramModel = new DiagramModel();\n\t\tthis.nodeFactories = {};\n\t\tthis.linkFactories = {};\n\t\tthis.portFactories = {};\n\t\tthis.canvas = null;\n\t\tthis.paintableWidgets = null;\n\t\tthis.linksThatHaveInitiallyRendered = {};\n\t}\n\n\tinstallDefaultFactories() {\n\t\tthis.registerNodeFactory(new DefaultNodeFactory());\n\t\tthis.registerLinkFactory(new DefaultLinkFactory());\n\t\tthis.registerPortFactory(new DefaultPortFactory());\n\t}\n\n\trepaintCanvas() {\n\t\tthis.iterateListeners(listener => {\n\t\t\tlistener.repaintCanvas && listener.repaintCanvas();\n\t\t});\n\t}\n\n\tclearRepaintEntities() {\n\t\tthis.paintableWidgets = null;\n\t}\n\n\tenableRepaintEntities(entities: BaseModel<BaseModelListener>[]) {\n\t\tthis.paintableWidgets = {};\n\t\tentities.forEach(entity => {\n\t\t\t//if a node is requested to repaint, add all of its links\n\t\t\tif (entity instanceof NodeModel) {\n\t\t\t\t_.forEach(entity.getPorts(), port => {\n\t\t\t\t\t_.forEach(port.getLinks(), link => {\n\t\t\t\t\t\tthis.paintableWidgets[link.getID()] = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (entity instanceof PointModel) {\n\t\t\t\tthis.paintableWidgets[entity.getLink().getID()] = true;\n\t\t\t}\n\n\t\t\tthis.paintableWidgets[entity.getID()] = true;\n\t\t});\n\t}\n\n\t/**\n\t * Checks to see if a model is locked by running through\n\t * its parents to see if they are locked first\n\t */\n\tisModelLocked(model: BaseEntity<BaseListener>) {\n\t\t//always check the diagram model\n\t\tif (this.diagramModel.isLocked()) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn model.isLocked();\n\t}\n\n\trecalculatePortsVisually() {\n\t\tthis.nodesRendered = false;\n\t\tthis.linksThatHaveInitiallyRendered = {};\n\t}\n\n\tcanEntityRepaint(baseModel: BaseModel<BaseModelListener>) {\n\t\t//no rules applied, allow repaint\n\t\tif (this.paintableWidgets === null) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.paintableWidgets[baseModel.getID()] !== undefined;\n\t}\n\n\tsetCanvas(canvas: Element | null) {\n\t\tthis.canvas = canvas;\n\t}\n\n\tsetDiagramModel(model: DiagramModel) {\n\t\tthis.diagramModel = model;\n\t\tthis.recalculatePortsVisually();\n\t}\n\n\tgetDiagramModel(): DiagramModel {\n\t\treturn this.diagramModel;\n\t}\n\n\tgetNodeFactories(): { [s: string]: NodeFactory } {\n\t\treturn this.nodeFactories;\n\t}\n\n\tgetLinkFactories(): { [s: string]: LinkFactory } {\n\t\treturn this.linkFactories;\n\t}\n\n\tregisterPortFactory(factory: PortFactory) {\n\t\tthis.portFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.portFactoriesUpdated) {\n\t\t\t\tlistener.portFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterNodeFactory(factory: NodeFactory) {\n\t\tthis.nodeFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.nodeFactoriesUpdated) {\n\t\t\t\tlistener.nodeFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterLinkFactory(factory: LinkFactory) {\n\t\tthis.linkFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.linkFactoriesUpdated) {\n\t\t\t\tlistener.linkFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetPortFactory(type: string): PortFactory {\n\t\tif (this.portFactories[type]) {\n\t\t\treturn this.portFactories[type];\n\t\t}\n\t\tconsole.log(\"cannot find factory for port of type: [\" + type + \"]\");\n\t\treturn null;\n\t}\n\n\tgetNodeFactory(type: string): NodeFactory {\n\t\tif (this.nodeFactories[type]) {\n\t\t\treturn this.nodeFactories[type];\n\t\t}\n\t\tconsole.log(\"cannot find factory for node of type: [\" + type + \"]\");\n\t\treturn null;\n\t}\n\n\tgetLinkFactory(type: string): LinkFactory {\n\t\tif (this.linkFactories[type]) {\n\t\t\treturn this.linkFactories[type];\n\t\t}\n\t\tconsole.log(\"cannot find factory for link of type: [\" + type + \"]\");\n\t\treturn null;\n\t}\n\n\tgetFactoryForNode(node: NodeModel): NodeFactory | null {\n\t\treturn this.getNodeFactory(node.getType());\n\t}\n\n\tgetFactoryForLink(link: LinkModel): LinkFactory | null {\n\t\treturn this.getLinkFactory(link.getType());\n\t}\n\n\tgenerateWidgetForLink(link: LinkModel): JSX.Element | null {\n\t\tvar linkFactory = this.getFactoryForLink(link);\n\t\tif (!linkFactory) {\n\t\t\tthrow new Error(\"Cannot find link factory for link: \" + link.getType());\n\t\t}\n\t\treturn linkFactory.generateReactWidget(this, link);\n\t}\n\n\tgenerateWidgetForNode(node: NodeModel): JSX.Element | null {\n\t\tvar nodeFactory = this.getFactoryForNode(node);\n\t\tif (!nodeFactory) {\n\t\t\tthrow new Error(\"Cannot find widget factory for node: \" + node.getType());\n\t\t}\n\t\treturn nodeFactory.generateReactWidget(this, node);\n\t}\n\n\tgetRelativeMousePoint(event): { x: number; y: number } {\n\t\tvar point = this.getRelativePoint(event.clientX, event.clientY);\n\t\treturn {\n\t\t\tx: (point.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\n\t\t\ty: (point.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\n\t\t};\n\t}\n\n\tgetRelativePoint(x, y) {\n\t\tvar canvasRect = this.canvas.getBoundingClientRect();\n\t\treturn { x: x - canvasRect.left, y: y - canvasRect.top };\n\t}\n\n\tgetNodePortElement(port: PortModel): any {\n\t\tvar selector = this.canvas.querySelector(\n\t\t\t'.port[data-name=\"' + port.getName() + '\"][data-nodeid=\"' + port.getParent().getID() + '\"]'\n\t\t);\n\t\tif (selector === null) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Cannot find Node Port element with nodeID: [\" +\n\t\t\t\t\tport.getParent().getID() +\n\t\t\t\t\t\"] and name: [\" +\n\t\t\t\t\tport.getName() +\n\t\t\t\t\t\"]\"\n\t\t\t);\n\t\t}\n\t\treturn selector;\n\t}\n\n\tgetPortCenter(port: PortModel) {\n\t\tvar sourceElement = this.getNodePortElement(port);\n\t\tvar sourceRect = sourceElement.getBoundingClientRect();\n\n\t\tvar rel = this.getRelativePoint(sourceRect.left, sourceRect.top);\n\n\t\treturn {\n\t\t\tx:\n\t\t\t\tsourceElement.offsetWidth / 2 +\n\t\t\t\t(rel.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\n\t\t\ty:\n\t\t\t\tsourceElement.offsetHeight / 2 +\n\t\t\t\t(rel.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\n\t\t};\n\t}\n\n\tgetMaxNumberPointsPerLink(): number {\n\t\treturn this.maxNumberPointsPerLink;\n\t}\n\tsetMaxNumberPointsPerLink(max: number) {\n\t\tthis.maxNumberPointsPerLink = max;\n\t}\n\n\tzoomToFit() {\n\t\tconst xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;\n\t\tconst yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;\n\t\tconst zoomFactor = xFactor < yFactor ? xFactor : yFactor;\n\n\t\tthis.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel() * zoomFactor);\n\t\tthis.diagramModel.setOffset(0, 0);\n\t\tthis.repaintCanvas();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DiagramEngine.ts","import { DefaultPortModel } from \"./DefaultPortModel\";\nimport { PortFactory } from \"../AbstractFactory\";\n\nexport class DefaultPortFactory extends PortFactory<DefaultPortModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultPortModel {\n\t\treturn new DefaultPortModel(true, \"unknown\");\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults/DefaultPortFactory.tsx","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport * as _ from \"lodash\";\nimport { LinkLayerWidget } from \"./LinkLayerWidget\";\nimport { NodeLayerWidget } from \"./NodeLayerWidget\";\nimport { Toolkit } from \"../Toolkit\";\nimport { BaseAction, MoveCanvasAction, MoveItemsAction, SelectingAction } from \"../CanvasActions\";\nimport { NodeModel } from \"../models/NodeModel\";\nimport { PointModel } from \"../models/PointModel\";\nimport { PortModel } from \"../models/PortModel\";\nimport { LinkModel } from \"../models/LinkModel\";\nimport { BaseModel, BaseModelListener } from \"../models/BaseModel\";\n\nexport interface SelectionModel {\n\tmodel: BaseModel<BaseModelListener>;\n\tinitialX: number;\n\tinitialY: number;\n}\n\nexport interface DiagramProps {\n\tdiagramEngine: DiagramEngine;\n\n\tallowLooseLinks?: boolean;\n\tallowCanvasTranslation?: boolean;\n\tallowCanvasZoom?: boolean;\n\tinverseZoom?: boolean;\n\tmaxNumberPointsPerLink?: number;\n\n\tactionStartedFiring?: (action: BaseAction) => boolean;\n\tactionStillFiring?: (action: BaseAction) => void;\n\tactionStoppedFiring?: (action: BaseAction) => void;\n\n\tdeleteKeys?: number[];\n}\n\nexport interface DiagramState {\n\taction: BaseAction | null;\n\twasMoved: boolean;\n\trenderedNodes: boolean;\n\twindowListener: any;\n\tdiagramEngineListener: any;\n\tdocument: any;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class DiagramWidget extends React.Component<DiagramProps, DiagramState> {\n\tpublic static defaultProps: DiagramProps = {\n\t\tdiagramEngine: null,\n\t\tallowLooseLinks: true,\n\t\tallowCanvasTranslation: true,\n\t\tallowCanvasZoom: true,\n\t\tinverseZoom: false,\n\t\tmaxNumberPointsPerLink: Infinity, // backwards compatible default\n\t\tdeleteKeys: [46, 8]\n\t};\n\n\tconstructor(props: DiagramProps) {\n\t\tsuper(props);\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\tthis.state = {\n\t\t\taction: null,\n\t\t\twasMoved: false,\n\t\t\trenderedNodes: false,\n\t\t\twindowListener: null,\n\t\t\tdiagramEngineListener: null,\n\t\t\tdocument: null\n\t\t};\n\t}\n\n\tonKeyUpPointer: null;\n\n\tcomponentWillUnmount() {\n\t\tthis.props.diagramEngine.removeListener(this.state.diagramEngineListener);\n\t\tthis.props.diagramEngine.setCanvas(null);\n\t\twindow.removeEventListener(\"keyup\", this.onKeyUpPointer);\n\t\twindow.removeEventListener(\"mouseUp\", this.onMouseUp);\n\t\twindow.removeEventListener(\"mouseMove\", this.onMouseMove);\n\t}\n\n\tcomponentWillReceiveProps(nextProps: DiagramProps) {\n\t\tif (this.props.diagramEngine !== nextProps.diagramEngine) {\n\t\t\tthis.props.diagramEngine.removeListener(this.state.diagramEngineListener);\n\t\t\tconst diagramEngineListener = nextProps.diagramEngine.addListener({\n\t\t\t\trepaintCanvas: () => this.forceUpdate()\n\t\t\t});\n\t\t\tthis.setState({ diagramEngineListener });\n\t\t}\n\t}\n\n\tcomponentWillUpdate(nextProps: DiagramProps) {\n\t\tif (this.props.diagramEngine.diagramModel.id !== nextProps.diagramEngine.diagramModel.id) {\n\t\t\tthis.setState({ renderedNodes: false });\n\t\t\tnextProps.diagramEngine.diagramModel.rendered = true;\n\t\t}\n\t\tif (!nextProps.diagramEngine.diagramModel.rendered) {\n\t\t\tthis.setState({ renderedNodes: false });\n\t\t\tnextProps.diagramEngine.diagramModel.rendered = true;\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.state.renderedNodes) {\n\t\t\tthis.setState({\n\t\t\t\trenderedNodes: true\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onKeyUpPointer = this.onKeyUp.bind(this);\n\n\t\t//add a keyboard listener\n\t\tthis.setState({\n\t\t\tdocument: document,\n\t\t\trenderedNodes: true,\n\t\t\tdiagramEngineListener: this.props.diagramEngine.addListener({\n\t\t\t\trepaintCanvas: () => {\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\twindow.addEventListener(\"keyup\", this.onKeyUpPointer, false);\n\n\t\t// dont focus the window when in test mode - jsdom fails\n\t\tif (process.env.NODE_ENV !== \"test\") {\n\t\t\twindow.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Gets a model and element under the mouse cursor\n\t */\n\tgetMouseElement(event): { model: BaseModel<BaseModelListener>; element: Element } {\n\t\tvar target = event.target as Element;\n\t\tvar diagramModel = this.props.diagramEngine.diagramModel;\n\n\t\t//is it a port\n\t\tvar element = Toolkit.closest(target, \".port[data-name]\");\n\t\tif (element) {\n\t\t\tvar nodeElement = Toolkit.closest(target, \".node[data-nodeid]\") as HTMLElement;\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel\n\t\t\t\t\t.getNode(nodeElement.getAttribute(\"data-nodeid\"))\n\t\t\t\t\t.getPort(element.getAttribute(\"data-name\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a point\n\t\telement = Toolkit.closest(target, \".point[data-id]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel\n\t\t\t\t\t.getLink(element.getAttribute(\"data-linkid\"))\n\t\t\t\t\t.getPointModel(element.getAttribute(\"data-id\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a link\n\t\telement = Toolkit.closest(target, \"[data-linkid]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel.getLink(element.getAttribute(\"data-linkid\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a node\n\t\telement = Toolkit.closest(target, \".node[data-nodeid]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel.getNode(element.getAttribute(\"data-nodeid\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfireAction() {\n\t\tif (this.state.action && this.props.actionStillFiring) {\n\t\t\tthis.props.actionStillFiring(this.state.action);\n\t\t}\n\t}\n\n\tstopFiringAction(shouldSkipEvent?: boolean) {\n\t\tif (this.props.actionStoppedFiring && !shouldSkipEvent) {\n\t\t\tthis.props.actionStoppedFiring(this.state.action);\n\t\t}\n\t\tthis.setState({ action: null });\n\t}\n\n\tstartFiringAction(action: BaseAction) {\n\t\tvar setState = true;\n\t\tif (this.props.actionStartedFiring) {\n\t\t\tsetState = this.props.actionStartedFiring(action);\n\t\t}\n\t\tif (setState) {\n\t\t\tthis.setState({ action: action });\n\t\t}\n\t}\n\n\tonMouseMove(event) {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\t\tvar diagramModel = diagramEngine.getDiagramModel();\n\t\t//select items so draw a bounding box\n\t\tif (this.state.action instanceof SelectingAction) {\n\t\t\tvar relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\n\n\t\t\t_.forEach(diagramModel.getNodes(), node => {\n\t\t\t\tif ((this.state.action as SelectingAction).containsElement(node.x, node.y, diagramModel)) {\n\t\t\t\t\tnode.setSelected(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_.forEach(diagramModel.getLinks(), link => {\n\t\t\t\tvar allSelected = true;\n\t\t\t\t_.forEach(link.points, point => {\n\t\t\t\t\tif ((this.state.action as SelectingAction).containsElement(point.x, point.y, diagramModel)) {\n\t\t\t\t\t\tpoint.setSelected(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tallSelected = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (allSelected) {\n\t\t\t\t\tlink.setSelected(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.state.action.mouseX2 = relative.x;\n\t\t\tthis.state.action.mouseY2 = relative.y;\n\n\t\t\tthis.fireAction();\n\t\t\tthis.setState({ action: this.state.action });\n\t\t\treturn;\n\t\t} else if (this.state.action instanceof MoveItemsAction) {\n\t\t\tlet amountX = event.clientX - this.state.action.mouseX;\n\t\t\tlet amountY = event.clientY - this.state.action.mouseY;\n\t\t\tlet amountZoom = diagramModel.getZoomLevel() / 100;\n\n\t\t\t_.forEach(this.state.action.selectionModels, model => {\n\t\t\t\t// in this case we need to also work out the relative grid position\n\t\t\t\tif (\n\t\t\t\t\tmodel.model instanceof NodeModel ||\n\t\t\t\t\t(model.model instanceof PointModel && !model.model.isConnectedToPort())\n\t\t\t\t) {\n\t\t\t\t\tmodel.model.x = diagramModel.getGridPosition(model.initialX + amountX / amountZoom);\n\t\t\t\t\tmodel.model.y = diagramModel.getGridPosition(model.initialY + amountY / amountZoom);\n\t\t\t\t} else if (model.model instanceof PointModel) {\n\t\t\t\t\t// we want points that are connected to ports, to not neccesarilly snap to grid\n\t\t\t\t\t// this stuff needs to be pixel perfect, dont touch it\n\t\t\t\t\tmodel.model.x = model.initialX + diagramModel.getGridPosition(amountX / amountZoom);\n\t\t\t\t\tmodel.model.y = model.initialY + diagramModel.getGridPosition(amountY / amountZoom);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.fireAction();\n\t\t\tif (!this.state.wasMoved) {\n\t\t\t\tthis.setState({ wasMoved: true });\n\t\t\t} else {\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t} else if (this.state.action instanceof MoveCanvasAction) {\n\t\t\t//translate the actual canvas\n\t\t\tif (this.props.allowCanvasTranslation) {\n\t\t\t\tdiagramModel.setOffset(\n\t\t\t\t\tthis.state.action.initialOffsetX + (event.clientX - this.state.action.mouseX),\n\t\t\t\t\tthis.state.action.initialOffsetY + (event.clientY - this.state.action.mouseY)\n\t\t\t\t);\n\t\t\t\tthis.fireAction();\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t}\n\t}\n\n\tonKeyUp(event) {\n\t\t//delete all selected\n\t\tif (this.props.deleteKeys.indexOf(event.keyCode) !== -1) {\n\t\t\t_.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(), element => {\n\t\t\t\t//only delete items which are not locked\n\t\t\t\tif (!this.props.diagramEngine.isModelLocked(element)) {\n\t\t\t\t\telement.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tonMouseUp(event) {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\t\t//are we going to connect a link to something?\n\t\tif (this.state.action instanceof MoveItemsAction) {\n\t\t\tvar element = this.getMouseElement(event);\n\t\t\tvar linkConnected = false;\n\t\t\t_.forEach(this.state.action.selectionModels, model => {\n\t\t\t\t//only care about points connecting to things\n\t\t\t\tif (!(model.model instanceof PointModel)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (element && element.model instanceof PortModel && !diagramEngine.isModelLocked(element.model)) {\n\t\t\t\t\tlinkConnected = true;\n\t\t\t\t\tlet link = model.model.getLink();\n\t\t\t\t\tif (link.getTargetPort() !== null) {\n\t\t\t\t\t\t//if this was a valid link already and we are adding a node in the middle, create 2 links from the original\n\t\t\t\t\t\tif (link.getTargetPort() !== element.model && link.getSourcePort() !== element.model) {\n\t\t\t\t\t\t\tconst targetPort = link.getTargetPort();\n\t\t\t\t\t\t\tlet newLink = link.clone({});\n\t\t\t\t\t\t\tnewLink.setSourcePort(element.model);\n\t\t\t\t\t\t\tnewLink.setTargetPort(targetPort);\n\t\t\t\t\t\t\tlink.setTargetPort(element.model);\n\t\t\t\t\t\t\ttargetPort.removeLink(link);\n\t\t\t\t\t\t\tnewLink.removePointsBefore(newLink.getPoints()[link.getPointIndex(model.model)]);\n\t\t\t\t\t\t\tlink.removePointsAfter(model.model);\n\t\t\t\t\t\t\tdiagramEngine.getDiagramModel().addLink(newLink);\n\t\t\t\t\t\t\t//if we are connecting to the same target or source, remove tweener points\n\t\t\t\t\t\t} else if (link.getTargetPort() === element.model) {\n\t\t\t\t\t\t\tlink.removePointsAfter(model.model);\n\t\t\t\t\t\t} else if (link.getSourcePort() === element.model) {\n\t\t\t\t\t\t\tlink.removePointsBefore(model.model);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlink.setTargetPort(element.model);\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.props.diagramEngine.linksThatHaveInitiallyRendered[link.getID()];\n\t\t\t\t}\n\t\t\t\t//if we moved a NodeModel and allowLooseLinks is false, we know that any links involved were valid\n\t\t\t\tif ((!this.props.allowLooseLinks && element.model instanceof NodeModel) || !this.state.wasMoved) {\n\t\t\t\t\tlinkConnected = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//do we want to allow loose links on the diagram model or not\n\t\t\tif (!linkConnected && !this.props.allowLooseLinks) {\n\t\t\t\t_.forEach(this.state.action.selectionModels, model => {\n\t\t\t\t\t//only care about points connecting to things\n\t\t\t\t\tif (!(model.model instanceof PointModel)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar link = model.model.getLink();\n\t\t\t\t\tif (link.isLastPoint(model.model)) {\n\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\tthis.stopFiringAction(!this.state.wasMoved);\n\t\t} else {\n\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\tthis.stopFiringAction();\n\t\t}\n\t\tthis.state.document.removeEventListener(\"mousemove\", this.onMouseMove);\n\t\tthis.state.document.removeEventListener(\"mouseup\", this.onMouseUp);\n\t}\n\n\tdrawSelectionBox() {\n\t\tlet dimensions = (this.state.action as SelectingAction).getBoxDimensions();\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"selector\"\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: dimensions.top,\n\t\t\t\t\tleft: dimensions.left,\n\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\theight: dimensions.height\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\t\tdiagramEngine.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink);\n\t\tvar diagramModel = diagramEngine.getDiagramModel();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref => {\n\t\t\t\t\tif (ref) {\n\t\t\t\t\t\tthis.props.diagramEngine.setCanvas(ref);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tclassName=\"storm-diagrams-canvas\"\n\t\t\t\tonWheel={event => {\n\t\t\t\t\tif (this.props.allowCanvasZoom) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tconst oldZoomFactor = diagramModel.getZoomLevel() / 100;\n\t\t\t\t\t\tlet scrollDelta = this.props.inverseZoom ? -event.deltaY : event.deltaY;\n\t\t\t\t\t\t//check if it is pinch gesture\n\t\t\t\t\t\tif (event.ctrlKey && scrollDelta % 1 !== 0) {\n\t\t\t\t\t\t\t/*Chrome and Firefox sends wheel event with deltaY that\n\t\t\t\t\t\t\t\thave fractional part, also `ctrlKey` prop of the event is true\n\t\t\t\t\t\t\t\tthough ctrl isn't pressed\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tscrollDelta /= 3;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tscrollDelta /= 60;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (diagramModel.getZoomLevel() + scrollDelta > 10) {\n\t\t\t\t\t\t\tdiagramModel.setZoomLevel(diagramModel.getZoomLevel() + scrollDelta);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst zoomFactor = diagramModel.getZoomLevel() / 100;\n\n\t\t\t\t\t\tconst boundingRect = event.currentTarget.getBoundingClientRect();\n\t\t\t\t\t\tconst clientWidth = boundingRect.width;\n\t\t\t\t\t\tconst clientHeight = boundingRect.height;\n\t\t\t\t\t\t// compute difference between rect before and after scroll\n\t\t\t\t\t\tconst widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\n\t\t\t\t\t\tconst heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\n\t\t\t\t\t\t// compute mouse coords relative to canvas\n\t\t\t\t\t\tconst clientX = event.clientX - boundingRect.left;\n\t\t\t\t\t\tconst clientY = event.clientY - boundingRect.top;\n\n\t\t\t\t\t\t// compute width and height increment factor\n\t\t\t\t\t\tconst xFactor = (clientX - diagramModel.getOffsetX()) / oldZoomFactor / clientWidth;\n\t\t\t\t\t\tconst yFactor = (clientY - diagramModel.getOffsetY()) / oldZoomFactor / clientHeight;\n\n\t\t\t\t\t\tdiagramModel.setOffset(\n\t\t\t\t\t\t\tdiagramModel.getOffsetX() - widthDiff * xFactor,\n\t\t\t\t\t\t\tdiagramModel.getOffsetY() - heightDiff * yFactor\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdiagramEngine.enableRepaintEntities([]);\n\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonMouseDown={event => {\n\t\t\t\t\tthis.setState({ ...this.state, wasMoved: false });\n\n\t\t\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\t\t\tvar model = this.getMouseElement(event);\n\t\t\t\t\t//the canvas was selected\n\t\t\t\t\tif (model === null) {\n\t\t\t\t\t\t//is it a multiple selection\n\t\t\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\t\t\tvar relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\n\t\t\t\t\t\t\tthis.startFiringAction(new SelectingAction(relative.x, relative.y));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//its a drag the canvas event\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t\tthis.startFiringAction(new MoveCanvasAction(event.clientX, event.clientY, diagramModel));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (model.model instanceof PortModel) {\n\t\t\t\t\t\t//its a port element, we want to drag a link\n\t\t\t\t\t\tif (!this.props.diagramEngine.isModelLocked(model.model)) {\n\t\t\t\t\t\t\tvar relative = diagramEngine.getRelativeMousePoint(event);\n\t\t\t\t\t\t\tvar sourcePort = model.model;\n\t\t\t\t\t\t\tvar link = sourcePort.createLinkModel();\n\n\t\t\t\t\t\t\tlink.getFirstPoint().updateLocation(relative);\n\t\t\t\t\t\t\tlink.getLastPoint().updateLocation(relative);\n\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t\tlink.getLastPoint().setSelected(true);\n\t\t\t\t\t\t\tdiagramModel.addLink(link);\n\n\t\t\t\t\t\t\tthis.startFiringAction(new MoveItemsAction(event.clientX, event.clientY, diagramEngine));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//its some or other element, probably want to move it\n\t\t\t\t\t\tif (!event.shiftKey && !model.model.isSelected()) {\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmodel.model.setSelected(true);\n\n\t\t\t\t\t\tthis.startFiringAction(new MoveItemsAction(event.clientX, event.clientY, diagramEngine));\n\t\t\t\t\t}\n\t\t\t\t\tthis.state.document.addEventListener(\"mousemove\", this.onMouseMove);\n\t\t\t\t\tthis.state.document.addEventListener(\"mouseup\", this.onMouseUp);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.state.renderedNodes && (\n\t\t\t\t\t<LinkLayerWidget\n\t\t\t\t\t\tdiagramEngine={diagramEngine}\n\t\t\t\t\t\tpointAdded={(point: PointModel, event) => {\n\t\t\t\t\t\t\tthis.state.document.addEventListener(\"mousemove\", this.onMouseMove);\n\t\t\t\t\t\t\tthis.state.document.addEventListener(\"mouseup\", this.onMouseUp);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tdiagramModel.clearSelection(point);\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\taction: new MoveItemsAction(event.clientX, event.clientY, diagramEngine)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<NodeLayerWidget diagramEngine={diagramEngine} />\n\t\t\t\t{this.state.action instanceof SelectingAction && this.drawSelectionBox()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/DiagramWidget.tsx","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 30\n// module chunks = 0"],"sourceRoot":""}